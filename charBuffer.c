/* This files provides address values that exist in the system */
        // while(TRUE){
        //     clear_screen();
        //     char *arr = "Temperature; Nausea; Lumbar Pain; Urine; Micturation; Burning: ";
        //     printSentence(arr, 0, 0, 8);
        //     for(int i = 0; i<20; i++){

        //         float temp = training_inputs[0][i];
        //         float na = training_inputs[1][i];
        //         float lu = training_inputs[2][i];
        //         float ur = training_inputs[3][i];
        //         float mict = training_inputs[4][i];
        //         float burn = training_inputs[5][i];
        //         printSentence("a", temp, 3, 10 + i);
        //         printSentence("b", na, 9, 10 + i);
        //         printSentence("c", lu, 15, 10 + i);
        //         printSentence("d", ur, 21, 10 + i);
        //         printSentence("e", mict, 27, 10 + i);
        //         printSentence("f", burn, 33, 10 + i);
        //     }
        //     break;
        // }
#define SDRAM_BASE            0xC0000000
#define FPGA_ONCHIP_BASE      0xC8000000
#define FPGA_CHAR_BASE        0xC9000000

/* Cyclone V FPGA devices */
#define LEDR_BASE             0xFF200000
#define HEX3_HEX0_BASE        0xFF200020
#define HEX5_HEX4_BASE        0xFF200030
#define SW_BASE               0xFF200040
#define KEY_BASE              0xFF200050
#define TIMER_BASE            0xFF202000
#define PIXEL_BUF_CTRL_BASE   0xFF203020
#define CHAR_BUF_CTRL_BASE    0xFF203030

/* VGA colors */
#define WHITE 0xFFFF
#define YELLOW 0xFFE0
#define RED 0xF800
#define GREEN 0x07E0
#define BLUE 0x001F
#define CYAN 0x07FF
#define MAGENTA 0xF81F
#define GREY 0xC618
#define PINK 0xFC18
#define ORANGE 0xFC00

#define ABS(x) (((x) > 0) ? (x) : -(x))

/* Screen size. */
#define RESOLUTION_X 320
#define RESOLUTION_Y 240

/* Constants for animation */
#define BOX_LEN 2
#define NUM_BOXES 8

#define FALSE 0
#define TRUE 1
#include <stdlib.h>
#include <stdio.h>
int frames;
int seconds;
int currfps;
int frameclip;
volatile int * pixel_ctrl_ptr = (int *)0xFF203020;
volatile int * char_ctrl_ptr = (int *)0xFF203030;
volatile int * stat_reg_ptr = (int *)0xFF20302C;
volatile int pixel_buffer_start; // global variable
volatile char char_buffer_start;
volatile int pixel_buffer_last; // global variable


void wait_for_vsync(){
	volatile int *pixel_ctrl_ptr = 0xFF203020;
	register int status;
	*pixel_ctrl_ptr = 1;
	status = *(pixel_ctrl_ptr+3);
	while((status & 0x01) !=0){
		status = *(pixel_ctrl_ptr+3);
	}
}

void clear_screen(){
    for (int x = 0; x< 320; x++){
        for (int y = 0; y<240; y++){
            plot_pixel(x, y, 0x0);
        }
    }
}
void write_char(int x, int y, char c) {
  // VGA character buffer
   volatile char * character_buffer = (char *) (FPGA_CHAR_BASE + (y<<7) + x);
  *character_buffer = c;
}
void plot_pixel(int x, int y, short int line_color)
{
    *(short int *)(pixel_buffer_start + (y << 10) + (x << 1)) = line_color;
}
int main(void){
	*(pixel_ctrl_ptr + 1) = 0xC8000000; // first store the address in the 
	// back buffer
	wait_for_vsync();
    /* initialize a pointer to the pixel buffer, used by drawing functions */
    pixel_buffer_start = *pixel_ctrl_ptr;
	char_buffer_start = *char_ctrl_ptr;
	clear_screen();
	while(1){
		frames+=1;
		char result[5];
    	sprintf(result, "%d", frames);
		char* cntr = "Frames Rendered: ";
		int leng = 0;
		while(*cntr){
			write_char(leng, 0, *cntr);
			leng++;
			cntr++;
		}
		for (int i = 0; i<6; i++){
			write_char(leng + i, 0, result[i]);
		}
	}
}
    double temperature[119] = {0.8650602409638554,
    0.8650602409638554,
    0.8674698795180723,
    0.8674698795180723,
    0.8674698795180723,
    0.8722891566265061,
    0.8722891566265061,
    0.8746987951807228,
    0.8819277108433735,
    0.8819277108433735,
    0.8819277108433735,
    0.8819277108433735,
    0.8843373493975905,
    0.8843373493975905,
    0.8843373493975905,
    0.8867469879518072,
    0.8867469879518072,
    0.8891566265060241,
    0.8891566265060241,
    0.891566265060241,
    0.891566265060241,
    0.891566265060241,
    0.891566265060241,
    0.891566265060241,
    0.891566265060241,
    0.891566265060241,
    0.891566265060241,
    0.8939759036144579,
    0.8939759036144579,
    0.8939759036144579,
    0.8963855421686747,
    0.8963855421686747,
    0.8963855421686747,
    0.8987951807228916,
    0.8987951807228916,
    0.8987951807228916,
    0.9012048192771084,
    0.9012048192771084,
    0.9036144578313253,
    0.9036144578313253,
    0.9036144578313253,
    0.9036144578313253,
    0.9036144578313253,
    0.9036144578313253,
    0.9060240963855422,
    0.9060240963855422,
    0.9060240963855422,
    0.9084337349397591,
    0.9084337349397591,
    0.9084337349397591,
    0.9084337349397591,
    0.9108433734939758,
    0.9108433734939758,
    0.9108433734939758,
    0.9132530120481928,
    0.9132530120481928,
    0.9132530120481928,
    0.9132530120481928,
    0.9132530120481928,
    0.9156626506024096,
    0.9156626506024096,
    0.9180722891566265,
    0.9228915662650602,
    0.927710843373494,
    0.9325301204819277,
    0.9373493975903614,
    0.9397590361445783,
    0.9493975903614458,
    0.9566265060240965,
    0.963855421686747,
    0.963855421686747,
    0.963855421686747,
    0.963855421686747,
    0.963855421686747,
    0.963855421686747,
    0.963855421686747,
    0.963855421686747,
    0.9662650602409639,
    0.9686746987951808,
    0.9686746987951808,
    0.9686746987951808,
    0.9710843373493975,
    0.9734939759036144,
    0.9734939759036144,
    0.9734939759036144,
    0.9734939759036144,
    0.9734939759036144,
    0.9759036144578314,
    0.9783132530120482,
    0.9783132530120482,
    0.9783132530120482,
    0.9807228915662651,
    0.9807228915662651,
    0.9807228915662651,
    0.9807228915662651,
    0.9807228915662651,
    0.9831325301204819,
    0.9855421686746988,
    0.9855421686746988,
    0.9855421686746988,
    0.9879518072289156,
    0.9879518072289156,
    0.9879518072289156,
    0.9879518072289156,
    0.9903614457831326,
    0.9903614457831326,
    0.9903614457831326,
    0.9903614457831326,
    0.9903614457831326,
    0.9927710843373495,
    0.9927710843373495,
    0.9927710843373495,
    0.9927710843373495,
    0.9951807228915662,
    0.9975903614457831,
    1.0,
    1.0,
    1.0,
    1.0};
    int nausea[119] = {0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    1,
    1,
    1,
    0,
    0,
    1,
    1,
    0,
    1,
    1,
    0,
    1,
    0,
    1,
    1,
    1,
    0,
    1,
    1,
    1,
    0,
    1,
    1,
    1,
    0,
    1,
    0,
    0,
    1,
    1,
    0,
    1,
    0,
    1,
    0,
    1,
    1,
    0,
    1,
    0,
    1,
    0,
    1,
    0,
    1,
    0,
    0,
    1,
    0,
    0};
    int lumbar[119] = {0,
    1,
    0,
    1,
    1,
    0,
    1,
    0,
    0,
    0,
    1,
    1,
    0,
    1,
    1,
    0,
    0,
    0,
    1,
    0,
    0,
    1,
    0,
    0,
    0,
    0,
    0,
    1,
    0,
    0,
    0,
    1,
    0,
    1,
    0,
    0,
    1,
    0,
    0,
    1,
    1,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    1,
    0,
    1,
    0,
    0,
    0,
    0,
    1,
    0,
    0,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    0,
    0,
    1,
    1,
    1,
    1,
    1,
    0,
    1,
    1,
    1,
    1,
    1,
    0,
    1,
    1,
    1,
    0,
    1,
    1,
    1,
    0,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    0,
    1,
    1,
    1,
    1,
    0,
    1,
    1,
    1,
    0,
    1,
    1,
    1,
    1,
    0,
    1,
    1,
    1
    };
    int urine[119] = {1,
    0,
    1,
    0,
    0,
    1,
    0,
    1,
    1,
    1,
    0,
    0,
    1,
    0,
    0,
    1,
    1,
    1,
    0,
    1,
    1,
    0,
    1,
    1,
    1,
    1,
    1,
    0,
    1,
    1,
    1,
    0,
    1,
    0,
    1,
    1,
    0,
    1,
    1,
    0,
    0,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    0,
    1,
    0,
    1,
    1,
    1,
    1,
    0,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    0,
    0,
    0,
    0,
    1,
    1,
    1,
    0,
    0,
    1,
    1,
    1,
    1,
    0,
    0,
    1,
    1,
    0,
    0,
    1,
    1,
    0,
    0,
    1,
    1,
    1,
    1,
    1,
    1,
    0,
    0,
    1,
    1,
    1,
    0,
    0,
    1,
    1,
    0,
    0,
    1,
    1,
    1,
    0,
    0,
    1,
    1,
    };
    int micturition[119] = {1,
    0,
    1,
    0,
    0,
    1,
    0,
    1,
    1,
    1,
    0,
    0,
    1,
    0,
    0,
    1,
    1,
    1,
    0,
    1,
    1,
    0,
    1,
    1,
    1,
    1,
    0,
    0,
    1,
    0,
    1,
    0,
    0,
    0,
    1,
    0,
    0,
    0,
    1,
    0,
    0,
    1,
    0,
    0,
    1,
    1,
    1,
    1,
    1,
    0,
    0,
    0,
    1,
    0,
    1,
    1,
    0,
    1,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    1,
    1,
    1,
    0,
    0,
    1,
    1,
    0,
    1,
    1,
    0,
    1,
    0,
    1,
    1,
    1,
    0,
    1,
    1,
    1,
    0,
    1,
    1,
    1,
    0,
    1,
    0,
    0,
    1,
    1,
    0,
    1,
    0,
    1,
    0,
    1,
    1,
    0,
    1,
    0,
    1,
    0,
    1,
    0,
    1,
    0,
    0,
    1,
    0,
    0
    };
    int ppBurn[119] = {1,
    0,
    1,
    0,
    0,
    1,
    0,
    1,
    1,
    1,
    0,
    0,
    1,
    0,
    0,
    1,
    1,
    1,
    0,
    0,
    0,
    0,
    1,
    1,
    1,
    1,
    0,
    0,
    1,
    0,
    0,
    0,
    0,
    0,
    1,
    0,
    0,
    0,
    0,
    0,
    0,
    1,
    0,
    0,
    0,
    0,
    1,
    0,
    0,
    0,
    0,
    0,
    1,
    0,
    0,
    0,
    0,
    1,
    0,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    0,
    0,
    0,
    0,
    0,
    1,
    0,
    1,
    0,
    0,
    1,
    1,
    0,
    0,
    0,
    0,
    0,
    1,
    0,
    0,
    1,
    0,
    0,
    0,
    1,
    1,
    0,
    0,
    1,
    1,
    0,
    0,
    1,
    1,
    0,
    0,
    0,
    1,
    1,
    0,
    0,
    1,
    0,
    1,
    0,
    0,
    1,
    1
    };
    int inflam[119] = {1,
    0,
    1,
    0,
    0,
    1,
    0,
    1,
    1,
    1,
    0,
    0,
    1,
    0,
    0,
    1,
    1,
    1,
    0,
    1,
    1,
    0,
    1,
    1,
    1,
    1,
    1,
    0,
    1,
    1,
    1,
    0,
    1,
    0,
    1,
    1,
    0,
    1,
    1,
    0,
    0,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    0,
    1,
    0,
    1,
    1,
    1,
    1,
    0,
    1,
    1,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    1,
    1,
    1,
    0,
    0,
    0,
    0,
    0,
    1,
    1,
    0,
    0,
    0,
    1,
    1,
    1,
    0,
    0,
    1,
    1,
    0,
    0,
    1,
    1,
    0,
    0,
    0,
    0,
    1,
    1,
    0,
    1,
    0,
    0,
    0,
    1,
    1,
    0,
    0,
    0,
    1,
    0,
    0,
    0,
    1,
    0,
    0,
    0,
    0,
    0
    };
    int nephritis[119] = {0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    0,
    0,
    1,
    1,
    1,
    1,
    1,
    0,
    1,
    1,
    1,
    1,
    1,
    0,
    1,
    1,
    1,
    0,
    1,
    1,
    1,
    0,
    1,
    1,
    1,
    1,
    1,
    1,
    1,
    0,
    1,
    1,
    1,
    1,
    0,
    1,
    1,
    1,
    0,
    1,
    1,
    1,
    1,
    0,
    1,
    1,
    1
    };
   
   